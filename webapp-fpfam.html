<!--定期定額投資網頁 webapp-fpfam.html-->
<!doctype html>
<html>
<head>
  <title>定期定額投資</title>
  <meta charset="utf-8">
  <script>
  function mycal(){
    // p=document.getElementById("p1");
    mv=parseInt(document.getElementById("mv").value);
    // p.innerHTML+="<br>"+ mv;
    yrs=parseInt(document.getElementById("yrs").value);
    // p.innerHTML+="<br>"+ yrs;
    n=yrs*12
    // p.innerHTML+="<br>"+ n;
    rr=parseFloat(document.getElementById("rr").value/100)/12;
    // p.innerHTML+="<br>"+ rr;
    // b_rr= "1+月化投資報酬率= " + (1+rr);
    // p.innerHTML+="<br>"+b_rr;
    // p2=document.getElementById("p2");
    sum_rr=0.0;
    xp= new Array(), yp= new Array();
    for (i=1; i<=n; i++){
        sum_rr=sum_rr+Math.pow(1+rr,i);
        // p2.innerHTML+= " i= "+i
        //              + " sr="+sum_rr+"<BR> "
        xp.push(i), yp.push(mv*sum_rr);             
    }
    fv= mv*sum_rr;
    // p2.innerHTML+= "= " + parseInt(fv).toLocaleString();
    R=document.getElementById("fv");
    R.value=parseInt(fv).toLocaleString();
    
    const data = [{x:xp, y:yp, mode:"lines"}];
    const layout = {title: "y = " + "定期定額投資報酬(期末本利和)"};
    Plotly.newPlot("myPlot", data, layout);
  }
  </script>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<!-- bootstrap cdn files -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  <!-- css for the project -->
  <link rel="stylesheet" type="text/css" href="css/mystyles.css">
</head>
<body>
  <div id="header" class="container text-center">
    <h2 style="font-weight: bold;">響應式網站設計：理財WebAPP</h2>
    <img src="images/csic.png" height="42" class="img-fluid">
  </div>
    
  <div id="main" class="container"><br>
    <h3>定期定額投資網頁程式</h3>
    <label>每月投入金額：</label>
    <input id="mv" placeholder="單筆投入多少元" type="text" /><br>
    <label>預估投資年數：</label></th>
    <input id="yrs" placeholder="預估投資年數" type="text" /><br>
    <label>年化投資報酬率:</label>
    <input id="rr" placeholder="年化報酬率多少%" type="text" /><br><br>
    <input type="button" id="cal" onclick="mycal()" value="計算" /><br><br>
    <label>期末本利和:</label>
    <input type=label id="fv" ><br><br>
    <div id="myPlot" style="height:300px;max-width:400px;border:1px solid;background-color:#faf9cf;"></div>
    <p id="p1"></p>
    <p id="p2"></p>
    <br>
  </div>

  <div id="footer" class="container">
    <a href="index.html"><img src="images/gohome.png" height="50px"></a>
    中山工商資訊科學生(蔡承伯,陳政嘉,吳承翰)專題製作
  </div>
</body>
</html>

